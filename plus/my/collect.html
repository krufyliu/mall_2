<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <title></title>
    <link rel="stylesheet" href="../../css/mui.min.css" />
    <link rel="stylesheet" href="../../css/bootstrap.min.css" />
    <link rel="stylesheet" href="../../css/bootstrap-theme.min.css" />
    <link rel="stylesheet" href="../../css/font-awesome.min.css" />
    <link rel="stylesheet" href="../../css/style.css" />
    <link rel="stylesheet" href="../../css/mui.indexedlist.css" />
    <style>
      .mui-control-content {
        background-color: white;
        min-height: 215px;
      }
      .mui-control-content .mui-loading {
        margin-top: 50px;
      }
    </style>
  </head>

  <body class="niceui">
    <header class="mui-bar mui-bar-nav">
      <h1 class="mui-title">我的收藏</h1>
      <button type="button" class="mui-left mui-action-back mui-btn  mui-btn-link mui-btn-nav mui-pull-left">
        <span class="mui-icon mui-icon-left-nav"></span>返回
      </button>
    </header>
    <div class="main mui-content">
      <div id="slider" class="mui-slider">
        <div id="sliderSegmentedControl" class="mui-slider-indicator mui-segmented-control mui-segmented-control-inverted">
          <a class="mui-control-item" href="#item1mobile"> 商场 </a>
          <a class="mui-control-item" href="#item2mobile"> 店铺 </a>
        </div>

        <div id="sliderProgressBar" class="mui-slider-progress-bar mui-col-xs-6"></div>

        <div class="mui-slider-group">
          <div id="item1mobile" class="mui-slider-item mui-control-content mui-active">
            <div id="scroll1" class="mui-scroll-wrapper">
              <div class="mui-scroll">
                <ul class="mui-table-view">
                  <li class="mui-table-view-cell">
                    第一个选项卡子项-1
                  </li>
                  <li class="mui-table-view-cell">
                    第一个选项卡子项-1
                </ul>
              </div>
            </div>
          </div>
          <div id="item2mobile" class="mui-slider-item mui-control-content">
            <div id="scroll2" class="mui-scroll-wrapper">
              <div class="mui-scroll">
                <div class="mui-loading">
                  <div class="mui-spinner">
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div id="item3mobile" class="mui-slider-item mui-control-content">
            <div id="scroll3" class="mui-scroll-wrapper">
              <div class="mui-scroll">
                <div class="mui-loading">
                  <div class="mui-spinner">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="../../js/mui.min.js"></script>
    <script src="../../js/app.js"></script>
    <script>
      mui.init({
        swipeBack: false
      });
      (function($) {
        $('.mui-scroll-wrapper').scroll({
          indicators: true //是否显示滚动条
        });
        var html2 = '<ul class="mui-table-view"><li class="mui-table-view-cell">第二个选项卡子项-1</li><li class="mui-table-view-cell">第二个选项卡子项-2</li><li class="mui-table-view-cell">第二个选项卡子项-3</li><li class="mui-table-view-cell">第二个选项卡子项-4</li><li class="mui-table-view-cell">第二个选项卡子项-5</li></ul>';
        var html3 = '<ul class="mui-table-view"><li class="mui-table-view-cell">第三个选项卡子项-1</li><li class="mui-table-view-cell">第三个选项卡子项-2</li><li class="mui-table-view-cell">第三个选项卡子项-3</li><li class="mui-table-view-cell">第三个选项卡子项-4</li><li class="mui-table-view-cell">第三个选项卡子项-5</li></ul>';
        var item2 = document.getElementById('item2mobile');
        var item3 = document.getElementById('item3mobile');
        document.getElementById('slider').addEventListener('slide', function(e) {
          if (e.detail.slideNumber === 1) {
            if (item2.querySelector('.mui-loading')) {
              setTimeout(function() {
                item2.querySelector('.mui-scroll').innerHTML = html2;
              }, 500);
            }
          } else if (e.detail.slideNumber === 2) {
            if (item3.querySelector('.mui-loading')) {
              setTimeout(function() {
                item3.querySelector('.mui-scroll').innerHTML = html3;
              }, 500);
            }
          }
        });
        var sliderSegmentedControl = document.getElementById('sliderSegmentedControl');
        $('.mui-input-group').on('change', 'input', function() {
          if (this.checked) {
            sliderSegmentedControl.className = 'mui-slider-indicator mui-segmented-control mui-segmented-control-inverted mui-segmented-control-' + this.value;
            //force repaint
            sliderProgressBar.setAttribute('style', sliderProgressBar.getAttribute('style'));
          }
        });
      })(mui);
    </script>
  </body>
</html>